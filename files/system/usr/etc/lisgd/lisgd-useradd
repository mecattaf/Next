#!/bin/bash

# Create input group if it doesn't exist
getent group input > /dev/null || groupadd -r input

# Set proper permissions for lisgd
if [ -f /usr/bin/lisgd ]; then
    chown root:input /usr/bin/lisgd
    chmod 2755 /usr/bin/lisgd
fi

# Add current user to input group
current_user=$(who | awk '{print $1}' | sort -u | head -n1)
if [ -n "$current_user" ] && [ "$current_user" != "root" ]; then
    usermod -aG input "$current_user"
fi
